<!DOCTYPE html>
<html>

<body>
    <div id="output"></div>
    <script>
        const svgContent = `<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#38bdf8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#818cf8;stop-opacity:1" />
    </linearGradient>
  </defs>
  <rect x="5" y="5" width="40" height="40" rx="10" stroke="url(#grad1)" stroke-width="4" fill="none" />
  <path d="M15 17 H35 M15 25 H27 M15 33 H35" stroke="url(#grad1)" stroke-width="3" stroke-linecap="round" />
</svg>`;

        async function generateIcons() {
            const sizes = [16, 32, 48, 128];
            const result = {};

            for (const size of sizes) {
                const canvas = document.createElement('canvas');
                canvas.width = size;
                canvas.height = size;
                const ctx = canvas.getContext('2d');

                const img = new Image();
                const svgBlob = new Blob([svgContent], { type: 'image/svg+xml;charset=utf-8' });
                const url = URL.createObjectURL(svgBlob);

                await new Promise(resolve => {
                    img.onload = () => {
                        ctx.drawImage(img, 0, 0, size, size);
                        URL.revokeObjectURL(url);
                        resolve();
                    };
                    img.src = url;
                });

                result[`icon${size}`] = canvas.toDataURL('image/png').split(',')[1]; // Get base64 data only
            }

            document.getElementById('output').textContent = JSON.stringify(result);
        }

        generateIcons();
    </script>
</body>

</html>